#!/usr/bin/sh

"""
This script changes focused border colors based on the active layout.

email: jnzig@proton.me
License: GPL3
"""

# First argument is the keyboard identifier
swaymsg input "$1" xkb_switch_layout next

# arguments [2,3] [3,4] ... are [layout_name, border_colors]
# pass all border_colors as 1 string

cur_layout=$(swaymsg -t get_inputs | jq --arg kb_id "$1" -r '.[] | select(.identifier == $kb_id) | .xkb_active_layout_name')

case "$cur_layout" in
    "$2")
        exec swaymsg "client.focused $3"
        ;;
    "$4")
        exec swaymsg "client.focused $5"
        ;;
esac

